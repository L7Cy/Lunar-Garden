---
title: DHCPでやりとりされるメッセージ
tags: [2023/02/21]
aliases: []
---

[[DHCPクライアント]]と[[DHCPサーバ]]は、以下の4つのメッセージのやり取りによって、[[ネットワークアドレス]]等の割当てを行う

## DHCPDISCOVER
[[IPアドレス]]割り当てを要求する[[DHCPクライアント]](以下、クライアント)は、[[ネットワーク]]内の[[DHCPサーバ]](以下、サーバ)を見つけるため[[DHCP発見パケット]]をブロードキャストで送信する

## DHCPOFFER
[[DHCP発見パケット]]を受け取ったサーバは、使用可能な[[IPアドレス]]と[[サブネットマスク]]などのネットワーク設定をクライアントに通知する

## DHCPREQUEST
クライアントは通知されたネットワーク設定を使用することをサーバにブロードキャストで通知する

## DHCP ACK/DHCPNACK
サーバは、配布する[[IPアドレス]]が未使用であることを確認し、クライアントに確認応答パケットを送信する
この際[[IPアドレス]]が割当て不能だった場合はその旨をクライアントの通知する


[![Image from Gyazo](https://i.gyazo.com/78c73cf325431654c66764374daa9a4d.gif)](https://gyazo.com/78c73cf325431654c66764374daa9a4d)